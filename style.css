/* Globale CSS-Variablen für das Design und die UI-Komponenten */
:root {
    --background-color: #faf9f6; /* Hintergrundfarbe der Seite */
    --text-color: #333333; /* Textfarbe */
    --button-background-color: #a2b7ca; /* Hintergrundfarbe der Schaltflächen */
    --button-hover-color: #a2b7caa1; /* Hintergrundfarbe der Schaltflächen im Hover-Zustand */
    --button-text-color: #000000; /* Textfarbe der Schaltflächen */
    --table-header-color: #a2b7ca; /* Hintergrundfarbe der Tabellenköpfe */
    --overlay-background-color: rgba(0, 0, 0, 0.6); /* Hintergrundfarbe der Overlays */
    --border-radius: 12px; /* Eckradius für abgerundete Ecken */
    --transition-duration: 0.3s; /* Dauer der Übergangseffekte */
    --shadow-light: rgba(0, 0, 0, 0.1); /* Leichter Schattenton */
    --shadow-dark: rgba(0, 0, 0, 0.25); /* Dunkler Schattenton */
}

/* Basisstile für den gesamten Body der Seite */
body {
    font-family: 'Poppins', sans-serif; /* Schriftart der Seite */
    text-align: center; /* Zentrierter Text */
    background-color: var(--background-color); /* Hintergrundfarbe der Seite */
    color: var(--text-color); /* Textfarbe der Seite */
    margin: 0; /* Kein äußerer Abstand */
    padding: 0 20px 0 0; /* Padding auf der rechten Seite hinzugefügt */
    display: flex; /* Flexbox-Layout */
    flex-direction: column; /* Inhalte werden vertikal ausgerichtet */
    min-height: 100vh; /* Minimale Höhe der Seite */
}

/* Stile für den Header der Seite */
header {
    display: grid; /* Grid-Layout für den Header */
    grid-template-columns: auto 1fr auto; /* Drei Spalten: links, Mitte, rechts */
    align-items: center; /* Vertikale Ausrichtung der Inhalte */
    background-color: var(--background-color); /* Hintergrundfarbe des Headers */
    color: var(--text-color); /* Textfarbe des Headers */
    padding: 20px 40px 20px 20px; /* Innenabstand des Headers */
    box-shadow: 0 4px 8px var(--shadow-dark); /* Schatten des Headers */
    border-bottom-left-radius: var(--border-radius); /* Abgerundete Ecken unten links */
    border-bottom-right-radius: var(--border-radius); /* Abgerundete Ecken unten rechts */
    text-align: center; /* Zentrierter Text */
    width: 100%; /* Header über die gesamte Breite */
}

/* Stile für den Titel in der Mitte */
.header-buttons h1 {
    margin: 0; /* Kein äußerer Abstand */
    text-align: center; /* Zentrierter Text */
}

/* Stile für die Header-Schaltflächen */
.header-buttons {
    display: contents; /* Buttons werden direkt im Grid-Container angezeigt */
}

.header-buttons button {
    font-size: 24px; /* Schriftgröße der Schaltflächen */
    background: none; /* Kein Hintergrund */
    border: none; /* Kein Rahmen */
    cursor: pointer; /* Mauszeiger wird zur Hand bei Hover */
    padding: 10px; /* Innenabstand der Schaltflächen */
    box-sizing: border-box; /* Box-Sizing: Border und Padding werden berücksichtigt */
}

/* Entfernen von Margin für die Buttons */
#showInstructions, #toggleMode {
    margin: 0; /* Kein äußerer Abstand */
}

/* Tooltip-Stile */
#showInstructions::after {
    content: "Anleitung anzeigen"; /* Tooltip-Text */
    position: absolute; /* Absolute Positionierung des Tooltips */
    bottom: 100%; /* Unterhalb des Buttons positioniert */
    left: 50%; /* Horizontal zentriert */
    transform: translateX(-50%); /* Korrektur für zentrierte Position */
    background-color: #333; /* Hintergrundfarbe des Tooltips */
    color: #fff; /* Textfarbe des Tooltips */
    padding: 8px; /* Innenabstand des Tooltips */
    border-radius: 4px; /* Abgerundete Ecken */
    white-space: nowrap; /* Kein Umbruch im Tooltip */
    opacity: 0; /* Tooltip ist unsichtbar */
    visibility: hidden; /* Tooltip ist nicht sichtbar */
    transition: opacity 0.3s ease, visibility 0.3s ease; /* Übergangseffekt für Sichtbarkeit */
    font-size: 14px; /* Schriftgröße des Tooltips */
}

/* Tooltip sichtbar bei Hover */
#showInstructions:hover::after {
    opacity: 1; /* Tooltip wird sichtbar */
    visibility: visible; /* Tooltip wird angezeigt */
}

/* Container für den Hauptinhalt der Seite */
.container {
    flex: 1; /* Flex-Wachstum des Containers */
    display: flex; /* Flexbox-Layout */
    flex-direction: column; /* Inhalte werden vertikal ausgerichtet */
    align-items: center; /* Zentrierte Ausrichtung der Inhalte */
    padding: 20px; /* Innenabstand des Containers */
    max-width: 1200px; /* Maximale Breite des Containers */
    margin: auto; /* Zentrierter Container */
    width: 100%; /* Container über die gesamte Breite */
}

/* Wrapper für die Webcam-Anzeige */
.webcam-wrapper {
    position: relative; /* Relative Positionierung des Wrappers */
    margin-top: 20px; /* Oberer Abstand */
    width: 100%; /* Breite des Wrappers */
    max-width: 720px; /* Maximale Breite des Wrappers */
}

/* Stile für das Webcam-Video */
#webcam {
    width: 100%; /* Breite des Videos */
    height: auto; /* Höhe passt sich dem Seitenverhältnis an */
    border-radius: var(--border-radius); /* Abgerundete Ecken des Videos */
    box-shadow: 0 4px 8px var(--shadow-dark); /* Schatten des Videos */
}

/* Canvas-Element wird standardmäßig nicht angezeigt */
#canvas {
    display: none; /* Canvas ist unsichtbar */
}

/* Overlay für Countdown, das über dem Webcam-Video liegt */
#countdown-overlay {
    position: absolute; /* Absolute Positionierung des Overlays */
    top: 0; /* Oben ausgerichtet */
    left: 0; /* Links ausgerichtet */
    width: 100%; /* Breite des Overlays */
    height: 100%; /* Höhe des Overlays */
    background-color: rgba(0, 0, 0, 0.7); /* Halbtransparenter Hintergrund */
    color: #faf9f6; /* Textfarbe des Overlays */
    display: flex; /* Flexbox-Layout */
    justify-content: center; /* Zentrierte horizontale Ausrichtung */
    align-items: center; /* Zentrierte vertikale Ausrichtung */
    font-size: 2.5em; /* Schriftgröße des Countdowns */
    opacity: 0; /* Overlay ist unsichtbar */
    pointer-events: none; /* Keine Interaktionen möglich */
    transition: opacity var(--transition-duration) ease; /* Übergangseffekt für Sichtbarkeit */
    border-radius: var(--border-radius); /* Abgerundete Ecken des Overlays */
}

/* Stile für den Bereich der Spielergebnisse und des Punktestands */
#result {
    text-align: center; /* Zentrierter Text */
    margin-right: 20px; /* Rechter Außenabstand */
}

#result h3 {
    text-align: center; /* Zentrierter Text */
    margin-top: 20px; /* Oberer Außenabstand */
    font-size: 1.5em; /* Schriftgröße */
}

/* Zusätzliche Stile für den Abschnitt "Letzte Züge" */
.recent-moves {
    font-size: 20px; /* Schriftgröße */
    margin-bottom: 10px; /* Unterer Außenabstand */
    display: flex; /* Flexbox-Layout */
    justify-content: center; /* Zentrierte horizontale Ausrichtung */
    gap: 12px; /* Abstand zwischen Elementen */
    flex-wrap: wrap; /* Inhalte umbrechen, wenn nötig */
}

/* Stile für die Tabellen */
table {
    margin: 20px; /* Gleicher Abstand zu allen Rändern */
    border-collapse: collapse; /* Keine Abstände zwischen Tabellenzellen */
    width: 100%; /* Tabellenbreite */
    max-width: 500px; /* Maximale Tabellenbreite */
    box-shadow: 0 4px 8px var(--shadow-dark); /* Tabellenschatten */
    table-layout: fixed; /* Feste Breite der Zellen */
}

/* Stile für die Tabellenzellen */
th, td {
    border: none; /* Kein Rahmen */
    padding: 12px; /* Innenabstand der Zellen */
    text-align: center; /* Zentrierter Text */
    width: 25%; /* Breite der Zellen */
}

/* Stile für die Tabellenköpfe */
th {
    background-color: var(--table-header-color); /* Hintergrundfarbe der Tabellenköpfe */
    color: var(--button-text-color); /* Textfarbe der Tabellenköpfe */
    box-shadow: inset 0 2px 4px var(--shadow-dark); /* Innerer Schatten der Tabellenköpfe */
}

/* Basisstile für Schaltflächen */
button {
    padding: 12px 24px; /* Innenabstand der Schaltflächen */
    font-size: 16px; /* Schriftgröße */
    margin: 8px; /* Außenabstand der Schaltflächen */
    cursor: pointer; /* Mauszeiger wird zur Hand bei Hover */
    background-color: var(--button-background-color); /* Hintergrundfarbe */
    color: var(--button-text-color); /* Textfarbe */
    border: none; /* Kein Rahmen */
    border-radius: var(--border-radius); /* Abgerundete Ecken */
    transition: background-color var(--transition-duration) ease, transform var(--transition-duration) ease; /* Übergangseffekte für Hover */
    box-shadow: 0 4px 8px var(--shadow-dark); /* Schatten der Schaltflächen */
}

/* Hover-Effekte für Schaltflächen */
button:hover {
    background-color: var(--button-hover-color); /* Geänderte Hintergrundfarbe bei Hover */
    transform: translateY(-2px); /* Leichte Verschiebung nach oben bei Hover */
}

/* Gruppe von Schaltflächen */
.button-group {
    display: flex; /* Flexbox-Layout */
    justify-content: center; /* Zentrierte horizontale Ausrichtung */
}

/* Manuelle Steuerungselemente */
.manual-controls {
    margin-top: 20px; /* Oberer Außenabstand */
}

/* Stile für Overlay-Elemente */
.overlay {
    position: fixed; /* Feste Positionierung */
    top: 0; /* Oben ausgerichtet */
    left: 0; /* Links ausgerichtet */
    width: 100%; /* Breite des Overlays */
    height: 100%; /* Höhe des Overlays */
    background-color: var(--overlay-background-color); /* Hintergrundfarbe des Overlays */
    display: none; /* Overlay ist standardmäßig unsichtbar */
    justify-content: center; /* Zentrierte horizontale Ausrichtung */
    align-items: center; /* Zentrierte vertikale Ausrichtung */
    z-index: 1000; /* Höchste Stapelreihenfolge */
    transition: opacity var(--transition-duration) ease; /* Übergangseffekt für Sichtbarkeit */
}

/* Inhalt des Overlays */
.overlay-content {
    background-color: var(--background-color); /* Hintergrundfarbe des Inhalts */
    padding: 30px; /* Innenabstand */
    max-width: calc(500px - 20px); /* Maximale Breite mit Platz für Rand */
    text-align: left; /* Linksbündiger Text */
    border-radius: var(--border-radius); /* Abgerundete Ecken */
    box-shadow: 0 4px 8px var(--shadow-dark); /* Schatten des Inhalts */
    color: var(--text-color); /* Textfarbe */
    font-size: 1.2em; /* Schriftgröße */
}

/* Stile für das Sieger-Overlay */
#winner-overlay .overlay-content {
    background-color: var(--background-color); /* Hintergrundfarbe */
    padding: 30px; /* Innenabstand */
    max-width: calc(500px - 20px); /* Maximale Breite mit Platz für Rand */
    text-align: center; /* Zentrierter Text */
    border-radius: var(--border-radius); /* Abgerundete Ecken */
    box-shadow: 0 4px 8px var(--shadow-dark); /* Schatten */
    color: var(--text-color); /* Textfarbe */
    font-size: 2em; /* Schriftgröße */
}

/* Stile für die Schaltfläche zum Schließen des Overlays */
.close-button {
    background-color: #a2b7ca; /* Hintergrundfarbe */
    transition: background-color var(--transition-duration) ease; /* Übergangseffekt */
}

/* Hover-Effekte für die Schaltfläche zum Schließen des Overlays */
.close-button:hover {
    background-color: #a2b7caa1; /* Geänderte Hintergrundfarbe bei Hover */
}

/* Medienabfrage für das bevorzugte Farbschema des Benutzers (hell) */
@media (prefers-color-scheme: light) {
    :root {
        --background-color: #faf9f6; /* Hintergrundfarbe für den hellen Modus */
        --text-color: #333333; /* Textfarbe für den hellen Modus */
        --button-background-color: #007bff; /* Hintergrundfarbe der Schaltflächen im hellen Modus */
        --button-hover-color: #0056b3; /* Hover-Farbe der Schaltflächen im hellen Modus */
        --button-text-color: #faf9f6; /* Textfarbe der Schaltflächen im hellen Modus */
        --table-header-color: #007bff; /* Hintergrundfarbe der Tabellenköpfe im hellen Modus */
        --overlay-background-color: rgba(0, 0, 0, 0.6); /* Hintergrundfarbe der Overlays im hellen Modus */
        --border-radius: 12px; /* Eckradius für abgerundete Ecken */
        --transition-duration: 0.3s; /* Dauer der Übergangseffekte */
        --shadow-light: rgba(0, 0, 0, 0.1); /* Leichter Schattenton */
        --shadow-dark: rgba(0, 0, 0, 0.25); /* Dunkler Schattenton */
    }
}

/* Dunkelmodus-Stile */
body.dark-mode {
    --background-color: #181818; /* Hintergrundfarbe im Dunkelmodus */
    --text-color: #ffffff; /* Textfarbe im Dunkelmodus */
    --button-background-color: #2e2e2e; /* Hintergrundfarbe der Schaltflächen im Dunkelmodus */
    --button-hover-color: #373737; /* Hover-Farbe der Schaltflächen im Dunkelmodus */
    --button-text-color: #ffffff; /* Textfarbe der Schaltflächen im Dunkelmodus */
    --table-header-color: #2e2e2e; /* Hintergrundfarbe der Tabellenköpfe im Dunkelmodus */
}

/* --- Responsive Anpassungen --- */

/* Für Bildschirme bis zu 768px Breite (Tablets und kleinere Geräte) */
@media screen and (max-width: 768px) {
    header {
        grid-template-columns: auto 1fr auto; /* Beibehalten der drei Spalten */
    }

    .header-buttons h1 {
        font-size: 1.5em; /* Verkleinerung der Schriftgröße */
        margin: 0 10px; /* Anpassung des Außenabstands */
    }

    #result h3 {
        font-size: 1.3em; /* Verkleinerung der Schriftgröße */
    }

    #winner-overlay .overlay-content,
    .overlay-content {
        font-size: 1.6em; /* Verkleinerung der Schriftgröße für Overlays */
        padding: 20px; /* Anpassung des Innenabstands */
        max-width: 90%; /* Breitere Overlays auf kleineren Bildschirmen */
        margin: 20px; /* Abstand zum Rand des Bildschirms, alle Seiten */
    }

    button {
        padding: 10px 20px; /* Anpassung des Innenabstands */
        font-size: 14px; /* Verkleinerung der Schriftgröße */
        margin: 5px; /* Anpassung des Außenabstands */
    }

    .webcam-wrapper {
        max-width: 100%; /* Breitere Webcam-Anzeige auf kleineren Bildschirmen */
    }

    table {
        font-size: 14px; /* Verkleinerung der Schriftgröße in Tabellen */
    }
}

/* Für Bildschirme bis zu 480px Breite (Mobilgeräte im Hochformat) */
@media screen and (max-width: 480px) {
    header {
        padding: 10px; /* Anpassung des Innenabstands */
        padding-right: 20px; /* Rechtes Padding hinzugefügt */
        grid-template-columns: auto 1fr auto; /* Beibehalten der drei Spalten */
    }

    .container {
        padding: 10px; /* Anpassung des Innenabstands */
    }

    .header-buttons h1 {
        font-size: 1.2em; /* Verkleinerung der Schriftgröße */
    }

    #result h3 {
        font-size: 1.1em; /* Weitere Verkleinerung der Schriftgröße */
    }

    #winner-overlay .overlay-content,
    .overlay-content {
        font-size: 1.3em; /* Weitere Verkleinerung der Schriftgröße für Overlays */
        padding: 15px; /* Anpassung des Innenabstands */
        max-width: 90%; /* Breitere Overlays auf kleineren Bildschirmen */
        margin: 20px; /* Abstand zum Rand des Bildschirms, alle Seiten */
    }

    button {
        padding: 10px 15px; /* Anpassung des Innenabstands */
        font-size: 12px; /* Weitere Verkleinerung der Schriftgröße */
        margin: 5px; /* Anpassung des Außenabstands */
    }

    .webcam-wrapper {
        margin-top: 10px; /* Anpassung des oberen Außenabstands */
    }

    table {
        font-size: 12px; /* Weitere Verkleinerung der Schriftgröße in Tabellen */
    }

    th, td {
        padding: 8px; /* Anpassung des Innenabstands der Zellen */
    }

    #countdown-overlay {
        font-size: 2em; /* Verkleinerung der Schriftgröße im Countdown */
    }
}
